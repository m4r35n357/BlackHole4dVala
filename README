Kerr Spacetime Geodesic Generator documentation (WIP)

DEPENDENCIES:

Build:
valac
libjson-glib-dev
libgsl0-dev

Run:
vpython
matplotlib
jq
bc
imagemagick
ffmpeg


Sample usage:

1.	Build all the Vala executables, and set up a basic environment

./build-all [fast]

icdata=icgen-data.json
ic=initial-conditions.json
data=/tmp/data
pot=/tmp/potential


2.	Create an initial conditions generator data file

icgen=./icgenParticle
cp icgenParticle-data.example $icdata

icgen=./icgenLight
cp icgenLight-data.example $icdata


3.	Edit the inital conditions data and/or the inital conditions file

vi $icdata; jq . $icdata
$icgen <$icdata >$ic 2>$pot; jq . $ic
vi $ic; jq . $ic


4.	Run tests

./run-tests 2>/dev/null
rm -f $ic; ./rg2 2>/dev/null


5.	Some example pipelines . . .

jq . $ic; ./KdS <$ic | ./plotBH.py `jq .IC.M $ic` `jq .IC.a $ic` `jq .IC.L $ic` `jq .IC.mu $ic` 2>/dev/null &

jq . $ic; nc.openbsd pi 1234 <$ic | ./plotBH.py `jq .IC.M $ic` `jq .IC.a $ic` `jq .IC.L $ic` `jq .IC.mu $ic` 2>/dev/null &

echo '{ "rMin": 3.0, "rMax": 12.0, "elevation": 63.0, "spin": 1.0 }' | ./icgenParticle 2>/dev/null | tee $ic | jq .; ./KdS <$ic| ./plotBH.py `jq .IC.M $ic` `jq .IC.a $ic` `jq .IC.L $ic` `jq .IC.mu $ic`  


6.	Generate geodesic data and pass it to David Madore's kerr-image raytracer (ftp://ftp.madore.org/pub/madore/misc/kerr-image.c).

./icgenParticle <$icdata 2>$pot | ./bh3dRk4 | ./raytrace-commands 0 2>/dev/null | ./raytrace


7.	Make a video out of the output files:

ffmpeg -y -i RaytracingOutput/%04d.png -c:v libx264 -crf 1 raytrace.mp4
mplayer raytrace.mp4 -fps 10

ffmpeg -y -i VPythonOutput/%04d.png -c:v libx264 -crf 1 vpython.mp4
ffmpeg -y -i VPythonOutput/%04d.png -c:v libx264 -preset veryslow -qp 0 vpython.mp4


8.	Run a geodesic server from eg. /etc/rc.local:

on a PI 1:

su -c "cd /home/pi/projects/Vala/BlackHole4dVala; exec ./geodesic-server" pi &

on a PI 2 or 3:

gsdir='/home/pi/projects/Vala/BlackHole4dVala'
gs='./geodesic-server'
script1='./bh3dRk4'
script2='./bh3dRk4.py'
script3='./bh3dSymp'
su -c "cd $gsdir; $gs 1234 $script1 & $gs 1233 $script2 & $gs 1232 $script3 & $gs 1231 &" pi



REFERENCE DATA


Black Hole model

http://www.icra.it/Publications/Scientific/files/LenseThirring/pdf/b_Wilkins.pdf


Particle trajectories

http://staff.science.nus.edu.sg/~phylyk/downloads/reports/sp2172_report.pdf


Light trajectories

http://www.physics.nus.edu.sg/~phyteoe/kerr/
http://www.physics.nus.edu.sg/~phyteoe/kerr/paper.pdf

